<style type="text/css">

    label {

        margin-bottom: 10px;
    }

</style>

<div id="create_product">
  <h3 class="topic">Product Basic Information</h3>
   <div class="detailWrapper">
    <form class="form-horizontal" id="basic_infoform" role="form">
        <div class="form-row">
            <div class="form-group col-md-6">
                <label>Product Type: </label>
                <input class="form-control" placeholder="product Type" name="product_type" id="product_type">
            </div>
        </div>
        <div class="clearfix"></div>
        <div class="form-row">
            <div class="form-group col-md-6">
                <label>Product Name: </label>
                <input class="form-control" placeholder="Product Name" name="product_name" id="product_name">
            </div>
        </div>
        <div class="clearfix"></div>
        <div class="form-row">
            <div class="form-group col-md-6">
                <label>Product Code: </label>
                <input class="form-control" placeholder="Product Code" name="product_code" id="product_code">
            </div>
        </div>
        <div class="clearfix"></div>
        <div class="form-row">
            <div class="form-group col-md-6">
                <label>Product Brand: </label>
                <input class="form-control" placeholder="Product Brand" name="product_brand" id="product_brand">
            </div>
        </div>
        <div class="clearfix"></div>
        <div class="form-row">
            <div class="form-group col-md-6">
                <label>Product Qty: </label>
                <input class="form-control" placeholder="Product Qty" name="product_qty" id="product_qty">
            </div>
        </div>
        <div class="clearfix"></div>
        <div class="form-row">
            <div class="form-group col-md-6">
                <label>Product Lines: </label>
                <input class="form-control" placeholder="Product Line Count" name="line_count" id="line_count">
            </div>
        </div>
        <div class="clearfix"></div>
        <button id="submit_basicinfo" onclick="saveBasicInfo()" class="btn btn-success">Submit</button>
        <input type="hidden" id="product_type_id" name="product_type_id" value="0">
    </form>
   </div>
 </div> 
<script>
    var prodArr = [];
    var prodNameArr = [];
    var dataSet = [];


    $('#selected_line').on('change', function(e) {
        $.ajax({
            url: 'product/list/productname/linedetails',
            dataType: 'json',
            data: {
                product_name: $("#product_name_assign").val()
            },
            type: 'GET',
            success: function(data) {
                setLineDetails(data);
            }
        });
    });

    function setLineDetails(data) {
        dataSet = [];
        for (var i = 0; i < data.length; i++) {
            dataSet.push([data[i].stepName, data[i].step, "", "", "", "", "<a id=\"" + data[i].step + "\"onclick=\"loadtoModel(" + data[i].step + ")\" data-toggle=\"modal\" data-target=\"#assignDetails\">Assign</a>", "", "", ""]);
        }
        var datatable = $("#datatable").DataTable();
        datatable.clear().rows.add(dataSet).draw();
    }

    function loadtoModel(id) {
        for (var i = 0; i < dataSet.length; i++) {
            if (dataSet[i][1] == id) {
                $(".modal-body #step_name").val(dataSet[i][0]);
                $(".modal-body #step").val(dataSet[i][1]);
                break;
            }
        }
    }

    function saveBasicInfo() {
        $.ajax({
            url: "product/save/basicinfo",
            type: "POST",
            data: new FormData($("#basic_infoform")[0]),
            processData: false,
            contentType: false,
            cache: false,
            success: function() {

            }
        });
        alert("Product Sucessfully Saved");

    }

</script>